<?php

include_once 'Telegram.php';

/* If you need to manually take some parameters
*  $result = $telegram->getData();
*  $text = $result["message"] ["text"];
*  $chat_id = $result["message"] ["chat"]["id"];
*/

ini_set('error_reporting', E_ALL);
ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);

/* Settings */
define("TG_TOKEN", "6105452476:AAG7oUTA6TA7koYsOQ2zmQCO-_76fi3LPFE");
define("TG_USER_ID", "-728206168");
define("CHAT_ID", "@ins_calc_group");

// Instances the class
$telegram = new Telegram(TG_TOKEN);

// Take text and chat_id from the message
$text = $telegram->Text();
$chat_id = $telegram->ChatID();
$result = $telegram->getData();

/* –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
function TG_sendPhoto($arrayQuery) {
    $ch = curl_init('https://api.telegram.org/bot'. TG_TOKEN .'/sendPhoto');
    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $arrayQuery);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, true);
    curl_setopt($ch, CURLOPT_HEADER, false);
    $res = curl_exec($ch);
    curl_close($ch);

    return $res;
}

/* –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Ñ–∞–π–ª–µ */
function TG_getFile($arrayQuery) {
    $ch = curl_init("https://api.telegram.org/bot". TG_TOKEN ."/getFile?" . http_build_query($arrayQuery));
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, true);
    curl_setopt($ch, CURLOPT_HEADER, false);
    $res = curl_exec($ch);
    curl_close($ch);

    return $res;
}

/* ============================================ */

function list_files($path) {
    if ($path[mb_strlen($path) - 1] != '/') {
        $path .= '/';
    }

    $files = [];
    $dh = opendir($path);
    while (false !== ($file = readdir($dh))) {
        if ($file != '.' && $file != '..' && !is_dir($path.$file) && $file[0] != '.') {
            $files[] = $file;
        }
    }

    closedir($dh);
    return $files;
}

/* ============================================ */

/* Writing to message.txt */
function writeLogFile($string, $clear = false) {
    $log_file_name = __DIR__."/message.txt";
    $now = date("Y-m-d H:i:s");

    if ($clear === 'false') {
        file_put_contents($log_file_name, $now." ".print_r($string, true)."\r\n", FILE_APPEND);
    } else {
        file_put_contents($log_file_name, '');
        file_put_contents($log_file_name, $now." ".print_r($string, true)."\r\n", FILE_APPEND);
    }
}

$data = file_get_contents('php://input');
writeLogFile($data, false);

//echo file_get_contents(__DIR__."/message.txt");

/* ============================================ */

$arrDataAnswer = json_decode($data, true);
$textMessage = mb_strtolower($arrDataAnswer["message"]["text"]);
$chatId = $arrDataAnswer["message"]["chat"]["id"];
var_dump($chatId);

/* ============================================ */

// Send Invite.
if ($telegram->messageFromGroup()) {
    $textMessage = 'üéØüéØüéØ';
    if (!$arrDataAnswer['message']) {
        $content = [
            'chat_id' => CHAT_ID,
            'text' => $textMessage,
            'parse_mode' => "html",
            'reply_markup' => json_encode([
                'keyboard' => [
                    [
                        [
                            'text' => '–°—Ç—Ä–∞—Ö–æ–≤–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä',
                        ],
                        [
                            'text' => '–û—Ç—Ä–∏–º–∞—Ç–∏ –æ–Ω–ª–∞–π–Ω –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é',
                        ],
                    ],
                ],
                'is_persistent' => true,
                'one_time_keyboard' => false,
                'resize_keyboard' => true,
            ]),
        ];
        $telegram->sendMessage($content);
    }
}

if ($arrDataAnswer['message']) {
    if ($arrDataAnswer['message']['text'] === "–°—Ç—Ä–∞—Ö–æ–≤–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä") {
        $content = [
            'chat_id' => CHAT_ID,
            'text' =>
                "–ë–æ—Ç <b>'–°—Ç—Ä–∞—Ö–æ–≤–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä'</b> –ø–æ–∑–Ω–∞–π–æ–º–∏—Ç—å –í–∞—Å —ñ–∑ –ø—Ä–æ–≥—Ä–∞–º–∞–º–∏ –∞–≤—Å—Ç—Ä—ñ–π—Å—å–∫–æ—ó —Å—Ç—Ä–∞—Ö–æ–≤–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó Grawe —Ç–∞ –¥–æ–ø–æ–º–æ–∂–µ –í–∞–º –∑—Ä–æ–±–∏—Ç–∏ 
<b><i>—Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏.</i></b>",
            'parse_mode' => "html",
            'reply_markup' => json_encode([
                'inline_keyboard' => [
                    [
                        [
                            'text' => '–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –°—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞',
                            'url' => 'https://t.me/insurance_calc_bot',
                        ],
                    ]
                ],
                'is_persistent' => true,
                'one_time_keyboard' => false,
                'resize_keyboard' => true,
            ]),
        ];
        $telegram->sendMessage($content);
    } elseif ($arrDataAnswer['message']['text'] === "–û—Ç—Ä–∏–º–∞—Ç–∏ –æ–Ω–ª–∞–π–Ω –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é") {
        $content = [
            'chat_id' => $chatId,
            'text' => "–í–∏ –º–æ–∂–µ—Ç–µ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è —â–æ–¥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∏—Ö –ø—Ä–æ–≥—Ä–∞–º —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—É –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—é <b>–µ–∫—Å–ø–µ—Ä—Ç–∞</b>.",
            'parse_mode' => "html",
            'reply_markup' => json_encode([
                'inline_keyboard' => [
                    [
                        [
                            'text' => '–ó–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ –µ–∫—Å–ø–µ—Ä—Ç–∞ –õ–∞—Ä–∏—Å–∏ –õ–æ–Ω—á–∞—Ä',
                            'url' => 'https://t.me/larisa_lonchar',
                        ],
                    ]
            ],
            'is_persistent' => true,
            'one_time_keyboard' => false,
            'resize_keyboard' => true,
        ]),
        ];
        $telegram->sendMessage($content);
    }
}

/* ================================================== */

// Check if the text is a command.
if (!$telegram->messageFromGroup()) {
    if (!is_null($text) && !is_null($chat_id)) {
        if ($text === '/start') {
        $text = $result['message'] ['text'];
            // Shows the Inline Keyboard and Trigger a callback on a button press
            $option = [
                [
                    'üìã –ü–æ–∫–∞–∂–∏ —è–∫—ñ —î —Å—Ç—Ä–∞—Ö–æ–≤—ñ –ø—Ä–æ–≥—Ä–∞–º–∏',
                    'üßÆ –î–∞–≤–∞–π –∑—Ä–æ–±–∏–º–æ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Å—Ç—Ä–∞—Ö–æ–≤–æ—ó –≤–∏–ø–ª–∞—Ç–∏'
                ],
            ];

            $keyb = $telegram->buildKeyBoard($option, true, true, false);
            $content = [
                'chat_id' => $chat_id,
                'reply_markup' => $keyb,
                'parse_mode' => "html",
                'text' => "<b>–ß—É–¥–æ–≤–æ.</b>\n
‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è –í–∏–±–µ—Ä–∞–π—Ç–µ –∑ —á–æ–≥–æ –ø–æ—á–Ω–µ–º–æ ‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è",
                ];
            $telegram->sendMessage($content);
        }

        if (($text === 'üìã –ü–æ–∫–∞–∂–∏ —è–∫—ñ —î —Å—Ç—Ä–∞—Ö–æ–≤—ñ –ø—Ä–æ–≥—Ä–∞–º–∏') && (!$telegram->messageFromGroup())) {
                $reply = "<b>–î–∏–≤i—Ç—å—Å—è.</b>\n–¶–µ –ø—Ä–æ–≥—Ä–∞–º–∏ —è–∫—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ —É–∫—Ä–∞—ó–Ω—Ü—è–º —Ç–∞ –¥—ñ—é—Ç—å –ø–æ –≤—Å—å–æ–º—É —Å–≤—ñ—Ç—É.\n\n–í–∏–±–∏—Ä–∞–π—Ç–µ –≥—Ä—É–ø—É –ø—Ä–æ–≥—Ä–∞–º\n‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è";
            // Create option for the custom keyboard. Array of array string
            $option = [
                [
                    'üë±‚Äç‚ôÄÔ∏è –û—Å–æ–±–∏—Å—Ç–µ —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è',
                    'üë®‚Äçü¶≥ –ü–µ–Ω—Å—ñ–π–Ω–∏–π –æ–ø—Ü—ñ–æ–Ω'
                ],
//                ['üë®‚Äçü¶≥ –ü–µ–Ω—Å—ñ–π–Ω–∏–π –æ–ø—Ü—ñ–æ–Ω'],
                [
                    'ü©º –°—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –Ω–∞—Å—Ç–∞–Ω–Ω—è —Ä–∏–∑–∏–∫—ñ–≤',
                    'üë®‚Äçüë®‚Äçüë¶‚Äçüë¶ –°—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –≥—Ä—É–ø–∏ –æ—Å—ñ–±'
                ],
//                ['üë®‚Äçüë®‚Äçüë¶‚Äçüë¶ –°—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –≥—Ä—É–ø–∏ –æ—Å—ñ–±'],
            ];
            // Get the keyboard
            $keyb = $telegram->buildKeyBoard($option, true, true, false);
            $content = [
                'chat_id' => $chat_id,
                'reply_markup' => $keyb,
                'parse_mode' => "html",
                'text' => $reply
            ];
            $telegram->sendMessage($content);
        }

        if (($text === 'üë±‚Äç‚ôÄÔ∏è –û—Å–æ–±–∏—Å—Ç–µ —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è') && (!$telegram->messageFromGroup())) {
            $reply = "–ü–†–û–ì–†–ê–ú–ò –°–¢–†–ê–•–£–í–ê–ù–ù–Ø –ñ–ò–¢–¢–Ø –§–Ü–ó–ò–ß–ù–ò–• –û–°–Ü–ë\n
<b>‚úÖ –ù–∞–¥—ñ–π–Ω–∏–π —Å—Ç—Ä–∞—Ö–æ–≤–∏–π –∑–∞—Ö–∏—Å—Ç –Ω–∞–≤—ñ—Ç—å –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—é —Å—É–º–æ—é –≤–Ω–µ—Å–∫—É</b>
–ó –º–æ–º–µ–Ω—Ç—É –≤—Å—Ç—É–ø—É –≤ –¥—ñ—é —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ –ø–æ–ª—ñ—Å—É –ì—Ä–∞–≤–µ –≥–∞—Ä–∞–Ω—Ç—É—î –í–∞–º —Å—Ç—Ä–∞—Ö–æ–≤–∏–π –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –∑ –æ–±—Ä–∞–Ω–æ—é –ø—Ä–æ–≥—Ä–∞–º–æ—é, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å—É–º–∏ –í–∞—à–æ–≥–æ –≤–Ω–µ—Å–∫—É.\n
<b>‚úÖ –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∞ —Å—É–º–∞ –Ω–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è</b>
–ü—ñ—Å–ª—è –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è –¥—ñ—ó –¥–æ–≥–æ–≤–æ—Ä—É –ì—Ä–∞–≤–µ –≤–∏–ø–ª–∞—á—É—î –í–∞–º –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω—É —Å—Ç—Ä–∞—Ö–æ–≤—É —Å—É–º—É.\n
<b>‚úÖ –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–∏–π –¥–æ—Ö—ñ–¥</b>
–í–∂–µ –∑ –¥—Ä—É–≥–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ —Ä–æ–∫—É –∫—Ä—ñ–º, —É—Å—ñ—Ö –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏—Ö —Å—Ç—Ä–∞—Ö–æ–≤–∏—Ö –≤–∏–ø–ª–∞—Ç, –ì—Ä–∞–≤–µ –¥–æ–¥–∞—î –≤–∏–ø–ª–∞—Ç—É –±–æ–Ω—É—Å—ñ–≤ –≤—ñ–¥ —É—á–∞—Å—Ç—ñ –≤ —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–æ–º—É –¥–æ—Ö–æ–¥—ñ –∫–æ–º–ø–∞–Ω—ñ—ó.\n
<b>‚úÖ –ó—Ä—É—á–Ω–∞ —Ñ–æ—Ä–º–∞ —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π</b>
–î–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ –ì—Ä–∞–≤–µ –ø—Ä–æ–ø–æ–Ω—É—î –í–∞–º —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ –æ–±—Ä–∞—Ç–∏ –≤–∞–ª—é—Ç—É —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä—É ‚Äì —Ü–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —è–∫ –¥–æ–ª–∞—Ä–∏ –°–®–ê, —Ç–∞–∫ —ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –≥—Ä–∏–≤–Ω—è.\n
<b>‚úÖ –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥</b>
–ì—Ä–∞–≤–µ –≤—Ä–∞—Ö–æ–≤—É—î –í–∞—à—ñ —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ç–∞ –ø–æ–±–∞–∂–∞–Ω–Ω—è, —Ç–æ–º—É –º–æ–∂–µ –≥–Ω—É—á–∫–æ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —Å—Ç—Ä–∞—Ö–æ–≤–µ –ø–æ–∫—Ä–∏—Ç—Ç—è —Ç–∞ –∑—Ä–æ–±–∏—Ç–∏ –π–æ–≥–æ –∞–±–æ –±—ñ–ª—å—à –Ω–∞–∫–æ–ø–∏—á—É–≤–∞–ª—å–Ω–∏–º, –∞–±–æ –±—ñ–ª—å—à–µ –ø—Ä–∏–¥—ñ–ª–∏—Ç–∏ —É–≤–∞–≥—É –∑–∞—Ö–∏—Å—Ç—É –í–∞—à–æ–≥–æ –∂–∏—Ç—Ç—è.\n
<b>‚úÖ –û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å –≤–∏–ø–ª–∞—Ç</b>
–ú–∏ —Ä–æ–±–∏–º–æ –≤—Å–µ –º–æ–∂–ª–∏–≤–µ, –∞–±–∏ –∑–¥—ñ–π—Å–Ω–∏—Ç–∏ –í–∞—à—É —Å—Ç—Ä–∞—Ö–æ–≤—É –≤–∏–ø–ª–∞—Ç—É –≤–ø—Ä–æ–¥–æ–≤–∂ 14 –¥–Ω—ñ–≤ –∑ –º–æ–º–µ–Ω—Ç—É –ø–æ–¥–∞–Ω–Ω—è –≤—Å—ñ—Ö –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤.\n
<b>‚úÖ –ü–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—ñ–ª—å–≥–∏ –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω—ñ –∑–∞–∫–æ–Ω–æ–¥–∞–≤—Å—Ç–≤–æ–º</b>
–ó–≤–∞–∂–∞—é—á–∏ –Ω–∞ —Ç–µ, —â–æ –¥–æ–≥–æ–≤–æ—Ä–∏ —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –∂–∏—Ç—Ç—è –≤–≤–∞–∂–∞—é—Ç—å—Å—è –¥–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–∏–º–∏ —Ç–∞ –Ω–∞–∫–æ–ø–∏—á—É–≤–∞–ª—å–Ω–∏–º–∏, —Å—Ç—Ä–∞—Ö—É–≤–∞–ª—å–Ω–∏–∫–∏ –º–∞—é—Ç—å –ø—Ä–∞–≤–æ –Ω–∞ –ø–æ–¥–∞—Ç–∫–æ–≤–∏–π –∫—Ä–µ–¥–∏—Ç (–ø–æ–¥–∞—Ç–æ–∫ –≤—ñ–¥ –¥–æ—Ö–æ–¥—ñ–≤ —Ñ—ñ–∑–∏—á–Ω–∏—Ö –æ—Å—ñ–±, —Å–ø–ª–∞—á–µ–Ω–∏—Ö —É –≤–∏–≥–ª—è–¥—ñ —Å—Ç—Ä–∞—Ö–æ–≤–∏—Ö –≤–Ω–µ—Å–∫—ñ–≤, –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –í–∞–º –∑–∞ –ø—ñ–¥—Å—É–º–∫–∞–º–∏ —Ä–æ–∫—É).\n
–ü—Ä–æ–≥—Ä–∞–º–∏ –æ—Å–æ–±–∏—Å—Ç–æ–≥–æ —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è
‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è";
            // Create option for the custom keyboard. Array of array string
            $option = [
                ['üå± –ü—Ä–æ–≥—Ä–∞–º–∞ –°–ï–ü - —à–∏—Ä–æ–∫–∏–π —Å—Ç—Ä–∞—Ö–æ–≤–∏–π –∑–∞—Ö–∏—Å—Ç'],
                ['–ì—Ä–∞–≤–µ –ö–ª–∞—Å—ñ–∫ - –∑–≤–∞–∂–µ–Ω–∞ —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ—è –∫–æ—à—Ç—ñ–≤'],
                ['–ì—Ä–∞–≤–µ –ì–æ–ª–¥ - –Ω–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è –≤–∞–≥–æ–º–æ–≥–æ –∫–∞–ø—ñ—Ç–∞–ª—É'],
                ['–ì—Ä–∞–≤–µ –ú–∞–≥—ñ—Å—Ç—Ä - –Ω–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è –∫–æ—à—Ç—ñ–≤ –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è'],
                ['–ì—Ä–∞–≤–µ –ú–µ–¥–∏–∫ - —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —É —Ä–∞–∑—ñ –∑–∞—Ö–≤–æ—Ä—é–≤–∞–Ω–Ω—è'],
                ['–ì—Ä–∞–≤–µ –ú–µ–¥–∏–∫ - —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —É —Ä–∞–∑—ñ –∑–∞—Ö–≤–æ—Ä—é–≤–∞–Ω–Ω—è'],
            ];
            // Get the keyboard
            $keyb = $telegram->buildKeyBoard($option, true, true, false);
            $content = ['chat_id' => $chat_id, 'reply_markup' => $keyb, 'text' => $reply, 'parse_mode' => "html",];
            $telegram->sendMessage($content);
        }

        if (($text === 'üå± –ü—Ä–æ–≥—Ä–∞–º–∞ –°–ï–ü - —à–∏—Ä–æ–∫–∏–π —Å—Ç—Ä–∞—Ö–æ–≤–∏–π –∑–∞—Ö–∏—Å—Ç') && (!$telegram->messageFromGroup())) {
            $reply = "<b>–°–¢–†–ê–•–û–í–ê –ï–ö–û–ù–û–ú–Ü–ß–ù–ê –ü–†–û–ì–†–ê–ú–ê –°–ï–ü</b>
–ü—Ä–æ–≥—Ä–∞–º–∞ –Ω–∞–¥–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –Ω–µ –ª–∏—à–µ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –≥—ñ–¥–Ω–∏–π —Ä—ñ–≤–µ–Ω—å –∂–∏—Ç—Ç—è –í–∞–º —ñ –í–∞—à–∏–º —Ä—ñ–¥–Ω–∏–º, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –ø—ñ—Å–ª—è –≤–∏—Ö–æ–¥—É –Ω–∞ –ø–µ–Ω—Å—ñ—é –∞–±–æ —É —Å–∫—Ä—É—Ç–Ω–∏–π –¥–ª—è –í–∞—Å —á–∞—Å, –∞ –π –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π —Å—Ç—Ä–∞—Ö–æ–≤–∏–π —Ç–∞ —Å–æ—Ü—ñ–∞–ª—å–Ω–∏–π –∑–∞—Ö–∏—Å—Ç –∑–∞ –≤—Å—ñ–º–∞ –≤–∏–¥–∞–º–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Ç–∞—Ä–∏—Ñ—ñ–≤.
<b>–°–ï–ü –≥–∞—Ä–∞–Ω—Ç—É—î</b>

–ù–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è –∫–∞–ø—ñ—Ç–∞–ª—É
–í–∏–ø–ª–∞—Ç—É –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ—ó —Å—Ç—Ä–∞—Ö–æ–≤–æ—ó —Å—É–º–∏ —Ä–∞–∑–æ–º —ñ–∑ –Ω–∞–∫–æ–ø–∏—á–µ–Ω–∏–º–∏ —Ä–µ–∑–µ—Ä–≤–∞–º–∏ –±–æ–Ω—É—Å—ñ–≤ –ø—ñ—Å–ª—è –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è –¥—ñ—ó –¥–æ–≥–æ–≤–æ—Ä—É.

–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π –∑–∞—Ö–∏—Å—Ç –∂–∏—Ç—Ç—è
‚Ä¢ –í–∏–ø–ª–∞—Ç—É –≤–∏–≥–æ–¥–æ–Ω–∞–±—É–≤–∞—á–∞–º —á–∞—Å—Ç–∏–Ω–∏ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ—ó —Å—Ç—Ä–∞—Ö–æ–≤–æ—ó —Å—É–º–∏ –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–æ—ó —á–∞—Å—É –¥—ñ—ó –¥–æ–≥–æ–≤–æ—Ä—É —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —Ä–∞–∑–æ–º —ñ–∑ –Ω–∞–∫–æ–ø–∏—á–µ–Ω–∏–º–∏ —Ä–µ–∑–µ—Ä–≤–∞–º–∏ –±–æ–Ω—É—Å—ñ–≤. –†–∞–∑–æ–º —ñ–∑ —Ü–∏–º –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ –ø–ª–∞—Ç–µ–∂—É –≤–∏–ø–ª–∞—á—É—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∫–æ–≤–∞ —Å—É–º–∞ –≤ —Ä–æ–∑–º—ñ—Ä—ñ 10 000 –∞–±–æ 15 000 –≥—Ä–∏–≤–µ–Ω—å, —É –≤–∏–ø–∞–¥–∫—É, –∫–æ–ª–∏ –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∞ –æ—Å–æ–±–∞ –π–¥–µ –∑ –∂–∏—Ç—Ç—è –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ —Ö–≤–æ—Ä–æ–±–∏. –î–æ–≥–æ–≤—ñ—Ä –ø—Ä–∏ —Ü—å–æ–º—É –ø—Ä–∏–ø–∏–Ω—è—î —Å–≤–æ—é –¥—ñ—é.

‚Ä¢ –û–¥–Ω–æ—á–∞—Å–Ω–æ –≤–∏–ø–ª–∞—Ç—É –≤–∏–≥–æ–¥–æ–Ω–∞–±—É–≤–∞—á–∞–º –ø–æ–≤–Ω–æ—ó –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ—ó —Å—Ç—Ä–∞—Ö–æ–≤–æ—ó —Å—É–º–∏ —Ç–∞ —á–∞—Å—Ç–∏–Ω–∏ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ—ó —Å—Ç—Ä–∞—Ö–æ–≤–æ—ó —Å—É–º–∏ –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–æ—ó —á–∞—Å—É –¥—ñ—ó –¥–æ–≥–æ–≤–æ—Ä—É —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —Ä–∞–∑–æ–º —ñ–∑ –Ω–∞–∫–æ–ø–∏—á–µ–Ω–∏–º–∏ —Ä–µ–∑–µ—Ä–≤–∞–º–∏ –±–æ–Ω—É—Å—ñ–≤. –†–∞–∑–æ–º —ñ–∑ —Ü–∏–º –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ –ø–ª–∞—Ç–µ–∂—É –≤–∏–ø–ª–∞—á—É—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∫–æ–≤–∞ —Å—É–º–∞ –≤ —Ä–æ–∑–º—ñ—Ä—ñ 10 000 –∞–±–æ 15 000 –≥—Ä–∏–≤–µ–Ω—å, —è–∫—â–æ –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∞ –æ—Å–æ–±–∞ –π–¥–µ –∑ –∂–∏—Ç—Ç—è –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –Ω–µ—â–∞—Å–Ω–æ–≥–æ –≤–∏–ø–∞–¥–∫—É. –î–æ–≥–æ–≤—ñ—Ä –ø—Ä–∏ —Ü—å–æ–º—É –ø—Ä–∏–ø–∏–Ω—è—î —Å–≤–æ—é –¥—ñ—é.

–ó–∞—Ö–∏—Å—Ç —É –≤–∏–ø–∞–¥–∫—É —ñ–Ω–≤–∞–ª—ñ–¥–Ω–æ—Å—Ç—ñ
‚Ä¢ –í–∏–ø–ª–∞—Ç—É –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ—ó —Å—Ç—Ä–∞—Ö–æ–≤–æ—ó —Å—É–º–∏ —Ä–∞–∑–æ–º —ñ–∑ –Ω–∞–∫–æ–ø–∏—á–µ–Ω–∏–º–∏ —Ä–µ–∑–µ—Ä–≤–∞–º–∏ –±–æ–Ω—É—Å—ñ–≤ –ø—ñ—Å–ª—è –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è –¥—ñ—ó –¥–æ–≥–æ–≤–æ—Ä—É —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —É —Ä–∞–∑—ñ, —è–∫—â–æ –ø—Ä–æ—Ç—è–≥–æ–º –¥—ñ—ó –¥–æ–≥–æ–≤–æ—Ä—É –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∞ –æ—Å–æ–±–∞ –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –Ω–µ—â–∞—Å–Ω–æ–≥–æ –≤–∏–ø–∞–¥–∫—É –æ—Ç—Ä–∏–º—É—î —ñ–Ω–≤–∞–ª—ñ–¥–Ω—ñ—Å—Ç—å 50% —ñ –≤–∏—â–µ. –†–∞–∑–æ–º —ñ–∑ —Ü–∏–º —Å—Ç—Ä–∞—Ö—É–≤–∞–ª—å–Ω–∏–∫ –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –æ–±–æ–≤‚Äô—è–∑–∫—É —Å–ø–ª–∞—á—É–≤–∞—Ç–∏ —á–µ—Ä–≥–æ–≤—ñ —Å—Ç—Ä–∞—Ö–æ–≤—ñ –ø–ª–∞—Ç–µ–∂—ñ.

‚Ä¢ –ù–µ–≥–∞–π–Ω—É –≤–∏–ø–ª–∞—Ç—É –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω—ñ–π –æ—Å–æ–±—ñ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ—ó —Å—Ç—Ä–∞—Ö–æ–≤–æ—ó —Å—É–º–∏ —Ç–∞ –≤–∏–ø–ª–∞—Ç—É –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ—ó —Å—Ç—Ä–∞—Ö–æ–≤–æ—ó —Å—É–º–∏ —Ä–∞–∑–æ–º —ñ–∑ –Ω–∞–∫–æ–ø–∏—á–µ–Ω–∏–º–∏ —Ä–µ–∑–µ—Ä–≤–∞–º–∏ –±–æ–Ω—É—Å—ñ–≤ –ø—ñ—Å–ª—è –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è –¥—ñ—ó –¥–æ–≥–æ–≤–æ—Ä—É —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —É —Ä–∞–∑—ñ, —è–∫—â–æ –ø—Ä–æ—Ç—è–≥–æ–º –¥—ñ—ó –¥–æ–≥–æ–≤–æ—Ä—É –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∞ –æ—Å–æ–±–∞ –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –Ω–µ—â–∞—Å–Ω–æ–≥–æ –≤–∏–ø–∞–¥–∫—É –æ—Ç—Ä–∏–º—É—î –ø–æ–≤–Ω—É 100% —ñ–Ω–≤–∞–ª—ñ–¥–Ω—ñ—Å—Ç—å. –†–∞–∑–æ–º —ñ–∑ —Ü–∏–º —Å—Ç—Ä–∞—Ö—É–≤–∞–ª—å–Ω–∏–∫ –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –æ–±–æ–≤‚Äô—è–∑–∫—É —Å–ø–ª–∞—á—É–≤–∞—Ç–∏ —á–µ—Ä–≥–æ–≤—ñ —Å—Ç—Ä–∞—Ö–æ–≤—ñ –ø–ª–∞—Ç–µ–∂—ñ.

<b><u>–ü—Ä–∏–∫–ª–∞–¥ –°–ï–ü</u></b>

<i>–ó–∞—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∞ –æ—Å–æ–±–∞:</i>
<b>–ñ—ñ–Ω–∫–∞ –≤—ñ–∫–æ–º 30 —Ä–æ–∫—ñ–≤</b>
<i>–°—Ç—Ä–æ–∫ —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è:</i>
<b>20 —Ä–æ–∫—ñ–≤</b>
<i>–©–æ—Ä—ñ—á–Ω–∏–π —Å—Ç—Ä–∞—Ö–æ–≤–∏–π –ø–ª–∞—Ç—ñ–∂:</i>
<b>10 000 –≥—Ä–Ω</b>
<i>–ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∞ —Å—Ç—Ä–∞—Ö–æ–≤–∞ —Å—É–º–∞:</i>
<b>214 564 –≥—Ä–Ω</b>
<i>–ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∞ —Å—Ç—Ä–∞—Ö–æ–≤–∞ —Å—É–º–∞ –∑–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Ä–∏–∑–∏–∫—É —Å–º–µ—Ä—Ç—ñ</i>
<b>15 000 –≥—Ä–Ω</b>

<b><u>–°—Ç—Ä–∞—Ö–æ–≤—ñ –≤–∏–ø–ª–∞—Ç–∏</u></b>

<b>–í–∏–ø–ª–∞—Ç–∞ —É –≤–∏–ø–∞–¥–∫—É —Å–º–µ—Ä—Ç—ñ (—Ä–∞–∑–æ–º —ñ–∑ –±–æ–Ω—É—Å–∞–º–∏), –≥—Ä–Ω</b>
<pre><code class='language-python'>
| –†—ñ–∫ —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ  | –°—É–º–∞        |
| –≤–∏–ø–∞–¥–∫—É         |             |
|-----------------|-------------|
|  2              |   36 456,40 |
|  6              |   84 666,51 |
| 11              |  166 239,74 |
| 16              |  289 563,38 |
</code></pre>
<b>–í–∏–ø–ª–∞—Ç–∞ —É —Ä–∞–∑—ñ —Å–º–µ—Ä—Ç—ñ –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –Ω–µ—â–∞—Å–Ω–æ–≥–æ –≤–∏–ø–∞–¥–∫—É (—Ä–∞–∑–æ–º —ñ–∑ –±–æ–Ω—É—Å–∞–º–∏), –≥—Ä–Ω</b>
<pre><code class='language-python'>
| –†—ñ–∫ —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ  | –°—É–º–∞        |
| –≤–∏–ø–∞–¥–∫—É         |             |
|-----------------|-------------|
|  2              |  251 020,40 |
|  6              |  299 230,51 |
| 11              |  380 803,74 |
| 16              |  504 127,38 |
</code></pre>
<b>–í–∏–ø–ª–∞—Ç–∞ –ø–æ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—ñ —Å—Ç—Ä–æ–∫—É –¥—ñ—ó –¥–æ–≥–æ–≤–æ—Ä—É (—Ä–∞–∑–æ–º —ñ–∑ –±–æ–Ω—É—Å–∞–º–∏), –≥—Ä–Ω</b>
<pre><code class='language-python'>
| –†—ñ–∫ —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ  | –°—É–º–∞        |
| –≤–∏–ø–∞–¥–∫—É         |             |
|-----------------|-------------|
| 20              |  437 673,33 |
</code></pre>


–ó–≤—ñ–¥—Å–∏ –í–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –¥–æ —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–æ–≥–æ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É —Å—Ç—Ä–∞—Ö–æ–≤–æ—ó –≤–∏–ø–ª–∞—Ç–∏
‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è";
            // Create option for the custom keyboard. Array of array string
            $option = [
                ['üßÆ –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Å—Ç—Ä–∞—Ö–æ–≤–æ—ó –≤–∏–ø–ª–∞—Ç–∏'],
            ];
            // Get the keyboard
            $keyb = $telegram->buildKeyBoard($option, true, true, false);
            $content = [
                'chat_id' => $chat_id,
                'reply_markup' => $keyb,
                'parse_mode' => "html",
                'text' => $reply
            ];
            $telegram->sendMessage($content);
        }
    }
}
/* ================================================== */
